
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raven Vouches</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daisyui@3.8.0/dist/full.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#7e22ce", // purple
            }
          }
        }
      }
    </script>
</head>
<body class="bg-base-100 text-base-content min-h-screen transition-all duration-300">

    <div class="navbar bg-primary text-white">
        <div class="flex-1">
            <a class="btn btn-ghost text-xl font-bold">ü¶Ö RavenShop</a>
        </div>
        <div class="flex-none">
            <label class="swap swap-rotate">
                <input type="checkbox" id="theme-toggle" />
                <svg class="swap-on fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64 17.64A9 9 0 1 1 18.36 6.36 9 9 0 0 0 5.64 17.64z"/></svg>
                <svg class="swap-off fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
            </label>
        </div>
    </div>

    <div class="container mx-auto px-4 py-8">
        <div class="grid gap-6 grid-cols-1 sm:grid-cols-3">
            <div class="stat bg-primary text-white rounded-xl shadow-lg p-4">
                <div class="stat-title text-white/80">Total Vouches</div>
                <div class="stat-value">{{ stats.total_vouches }}</div>
            </div>
            <div class="stat bg-primary text-white rounded-xl shadow-lg p-4">
                <div class="stat-title text-white/80">Average Rating</div>
                <div class="stat-value">{{ stats.average_rating }}‚≠ê</div>
            </div>
            <div class="stat bg-primary text-white rounded-xl shadow-lg p-4">
                <div class="stat-title text-white/80">Top Voucher</div>
                <div class="stat-value">{{ stats.top_user }}</div>
            </div>
        </div>

        <h2 class="text-2xl font-semibold mt-12 mb-4 text-primary">Recent Vouches</h2>
        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            {% for v in vouches %}
            <div class="card shadow-md bg-base-200 p-4 rounded-xl">
                <div class="font-bold text-primary mb-2">{{ v.user_id }}</div>
                <div class="text-sm opacity-70">{{ v.time }}</div>
                <div class="my-2">‚≠ê {{ v.stars }}</div>
                <p class="text-base-content">{{ v.msg }}</p>
            </div>
            {% endfor %}
        </div>
    </div>

    <script>
      const toggle = document.getElementById("theme-toggle");
      toggle.addEventListener("change", function () {
        document.documentElement.setAttribute("data-theme", this.checked ? "dark" : "light");
      });
    </script>

</body>
</html>
